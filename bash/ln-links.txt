ССылки в Линукс (https://losst.pro/simvolicheskie-i-zhestkie-ssylki-linux)

В Линукс вся информация о файле привязана не к его имени , а к так называемому
числовому индексному дескриптору, в котором указаны сведения об этом файле:
в каких блоках диска хранится его содержимое, размер, время создания, модификации и др.
Индексные дескрипторы файлов хранятся в специальной таблице и имеют числовое значение,
что не очень удобно для запоминания и использования, поэтому им удобней дать имя.
Имя файла (можно создать несколько), ссылающееся на его индексный дескриптор, 
называется жесткой ссылкой. Но есть несколько ограничений:
- их можно создавать только на файлы, но не на каталоги;
- жесткую ссылку нельзя создать на файл, находящийся на другом диске.
А символьная ссылка (или мягкая) указывает на жесткие ссылки, не на индексный дескриптор.

------------------------------------------------------------------
  Символические ссылки более всего похожи на обычные ярлыки. Они содержат адрес 
нужного файла в вашей файловой системе. Когда вы пытаетесь открыть такую ссылку,
то открывается целевой файл или папка.
   Главное ее отличие от жестких ссылок в том, что при удалении целевого файла 
ссылка останется, но она будет указывать в никуда, поскольку файла на самом деле больше нет.

  Вот основные особенности символических ссылок:
  Могут ссылаться на файлы и каталоги;
  После удаления, перемещения или переименования файла становятся недействительными;
  Права доступа и номер inode отличаются от исходного файла;
  При изменении прав доступа для исходного файла, права на ссылку останутся неизменными;
  Можно ссылаться на другие разделы диска;
  Содержат только имя файла, а не его содержимое.
  
--------------------------------------------------------------------------  
  Жесткие ссылки
  Этот тип ссылок реализован на более низком уровне файловой системы. Файл размещен 
только в определенном месте жесткого диска. Но на это место могут ссылаться несколько 
ссылок из файловой системы. Каждая из ссылок - это отдельный файл, но ведут они 
к одному участку жесткого диска. Файл можно перемещать между каталогами, и все ссылки 
останутся рабочими, поскольку для них неважно имя. 
  
  Особенности:
  Работают только в пределах одной файловой системы;
  Нельзя ссылаться на каталоги;
  Имеют ту же информацию inode и набор разрешений что и у исходного файла;
  Разрешения на ссылку изменяться при изменении разрешений файла;
  Можно перемещать и переименовывать и даже удалять файл без вреда ссылке.

--------------------------------------------------------------------------
ln опции файл_источник файл_ссылки

Рассмотрим опции утилиты:
-d - разрешить создавать жесткие ссылки для директорий суперпользователю;
-f - удалять существующие ссылки;
-i - спрашивать нужно ли удалять существующие ссылки;
-P - создать жесткую ссылку;
-r - создать символическую ссылку с относительным путем к файлу;
-s - создать символическую ссылку.  

# create symbolic link:  
ln -s file softfile
ls -li

256085 -rw-rw-r-- 1 vagrant vagrant 17 Aug 13 12:03 file
262877 lrwxrwxrwx 1 vagrant vagrant  4 Aug 13 12:04 sfile -> file
  
# видим, что адрес иноды и права доступа к файлам отличаются, кроме того,
# явно показано что это символическая ссылка Linux

---------
# create hard link:
ln file hardfile
ls -li

256085 -rw-rw-r-- 2 vagrant vagrant 21 Aug 13 12:10 file
256085 -rw-rw-r-- 2 vagrant vagrant 21 Aug 13 12:10 hardfile
 
# inode и права доступа тоже совпадают 

---------------------------------------------------------------------------
  
  
  
  
  
  
  
  
  
  
  
  
