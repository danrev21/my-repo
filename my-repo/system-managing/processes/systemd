
=====АВТОЗАГРУЗКА СИСТЕМНЫХ СЕРВИСОВ===========================

# какие сервисы на данный момент добавлены в автозагрузку:
systemctl list-unit-files --type=service --state=enabled

# находится ли сервис уже в автозагрузке:
sudo systemctl is-enabled nginx

# запущен ли он в данный момент и посмотреть последние логи:
sudo systemctl status nginx

# В строчке Loaded после пути к файлу юнита указано состояние автозагрузки
# disabled, enabled или static. Сервисы отмеченные как static запускаются
# автоматически и их автозагрузка не может быть отключена.

# Добавить сервис в автозагрузку:
sudo systemctl enable nginx

# запустить сервис прямо сейчас:
sudo systemctl enable --now nginx

# Большинство системных сервисов, в том числе Nginx загружаются при уровне
# загрузки 3 (multi-user.target). Вы можете убедится, что в папке 
# /etc/systemd/system/multi-user.target.wants есть ссылка на этот юнит:
ls -l /etc/systemd/system/multi-user.target.wants | grep nginx


# Удалить сервис из автозагрузки:
sudo systemctl disable nginx

=====АВТОЗАГРУЗКА СЕРВИСОВ ПОЛЬЗОВАТЕЛЯ===========================
Кроме системных сервисов, Systemd поддерживает сервисы, запускаемые от имени обычных пользователей. Такие сервисы не требуют прав суперпользователя для управления ими. Для управления такими сервисами нужно использовать опцию --user.

Обычно такие сервисы запускаются при старте первой сессии пользователя и завершаются при завершении его последней сессии. 

# посмотреть какие сервисы текущего пользователя добавлены в автозагрузку:
systemctl list-unit-files --user --type=service --state=enabled

# Для добавления сервиса в автоазгрузку:
systemctl enable --user pipewire

# для отключения автозагрузки:
systemctl disable --user pipewire












